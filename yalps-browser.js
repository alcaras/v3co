(()=>{var t={23:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.branchAndCut=void 0;const o=n(324),i=n(188),s=r(n(471)),u=(t,e)=>({matrix:new Float64Array(t),positionOfVariable:new Int32Array(e),variableAtPosition:new Int32Array(e)}),a=(t,{matrix:e,positionOfVariable:n,variableAtPosition:r},o)=>{const{width:i,height:s}=t;e.set(t.matrix);for(let n=0;n<o.length;n++){const[r,u,a]=o[n],l=(s+n)*i,p=t.positionOfVariable[u];if(p<i)e[l]=r*a,e.fill(0,l+1,l+i),e[l+p]=r;else{const t=(p-i)*i;e[l]=r*(a-e[t]);for(let n=1;n<i;n++)e[l+n]=-r*e[t+n]}}n.set(t.positionOfVariable),r.set(t.variableAtPosition);const u=i+s+o.length;for(let t=i+s;t<u;t++)n[t]=t,r[t]=t;return{matrix:e.subarray(0,t.matrix.length+i*o.length),width:i,height:s+o.length,positionOfVariable:n.subarray(0,u),variableAtPosition:r.subarray(0,u)}},l=(t,e)=>{let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const u=e[s],a=t.positionOfVariable[u]-t.width;if(a<0)continue;const l=(0,o.index)(t,a,0),p=Math.abs(l-Math.round(l));p>n&&(n=p,r=u,i=l)}return[r,i,n]};e.branchAndCut=(t,e,n)=>{const{tableau:r,sign:o,integers:p}=t,{precision:c,maxIterations:f,tolerance:h,timeout:d}=n,[b,v,m]=l(r,p);if(m<=c)return[t,"optimal",e];const y=new s.default((t,e)=>t[0]-e[0]);y.push([e,[[-1,b,Math.ceil(v)]]]),y.push([e,[[1,b,Math.floor(v)]]]);const g=2*p.length,w=r.matrix.length+g*r.width,x=r.positionOfVariable.length+g;let O=u(w,x),P=u(w,x);const M=e*(1-o*h),N=d+Date.now();let A=Date.now()>=N,_=!1,j=1/0,V=r,F=0;for(;F<f&&!y.empty()&&j>=M&&!A;){const[t,e]=y.pop();if(t>j)break;const o=a(r,O,e),[s,u]=(0,i.simplex)(o,n);if("optimal"===s&&u<j){const[t,n,r]=l(o,p);if(r<=c){_=!0,j=u,V=o;const t=P;P=O,O=t}else{const r=[],o=[];for(let n=0;n<e.length;n++){const i=e[n],[s,u]=i;u===t?s<0?o.push(i):r.push(i):(r.push(i),o.push(i))}o.push([1,t,Math.floor(n)]),r.push([-1,t,Math.ceil(n)]),y.push([u,r]),y.push([u,o])}}A=Date.now()>=N,F++}const k=(A||F>=f)&&!y.empty()&&j>=M?"timedout":_?"optimal":"infeasible";return[{...t,tableau:V},k,_?j:NaN]}},46:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.solve=void 0,o(n(75),e),o(n(235),e);var i=n(53);Object.defineProperty(e,"solve",{enumerable:!0,get:function(){return i.solve}}),Object.defineProperty(e,"defaultOptions",{enumerable:!0,get:function(){return i.defaultOptions}})},53:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.solve=e.defaultOptions=void 0;const r=n(324),o=n(624),i=n(188),s=n(23),u=({tableau:t,sign:e,variables:n},i,s,{precision:u,includeZeroVariables:a})=>{if("optimal"===i||"timedout"===i&&!Number.isNaN(s)){const l=[];for(let e=0;e<n.length;e++){const[i]=n[e],s=t.positionOfVariable[e+1]-t.width,p=s>=0?(0,r.index)(t,s,0):0;p>u?l.push([i,(0,o.roundToPrecision)(p,u)]):a&&l.push([i,0])}return{status:i,result:-e*s,variables:l}}if("unbounded"===i){const r=t.variableAtPosition[s]-1;return{status:"unbounded",result:e*(1/0),variables:0<=r&&r<n.length?[[n[r][0],1/0]]:[]}}return{status:i,result:NaN,variables:[]}},a={precision:1e-8,checkCycles:!1,maxPivots:8192,tolerance:0,timeout:1/0,maxIterations:32768,includeZeroVariables:!1};e.defaultOptions={...a},e.solve=(t,e)=>{const n=(0,r.tableauModel)(t),o={...a,...e},[l,p]=(0,i.simplex)(n.tableau,o);if(0===n.integers.length||"optimal"!==l)return u(n,l,p,o);{const[t,e,r]=(0,s.branchAndCut)(n,p,o);return u(t,e,r,o)}}},75:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},188:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.simplex=void 0;const r=n(324),o=n(624),i=(t,e,n)=>{const o=(0,r.index)(t,e,n),i=t.variableAtPosition[t.width+e],s=t.variableAtPosition[n];t.variableAtPosition[t.width+e]=s,t.variableAtPosition[n]=i,t.positionOfVariable[i]=n,t.positionOfVariable[s]=t.width+e;const u=[];for(let n=0;n<t.width;n++){const i=(0,r.index)(t,e,n);Math.abs(i)>1e-16?((0,r.update)(t,e,n,i/o),u.push(n)):(0,r.update)(t,e,n,0)}(0,r.update)(t,e,n,1/o);for(let i=0;i<t.height;i++){if(i===e)continue;const s=(0,r.index)(t,i,n);if(Math.abs(s)>1e-16){for(let n=0;n<u.length;n++){const o=u[n];(0,r.update)(t,i,o,(0,r.index)(t,i,o)-s*(0,r.index)(t,e,o))}(0,r.update)(t,i,n,-s/o)}}},s=(t,e,n,r)=>{t.push([e.variableAtPosition[e.width+n],e.variableAtPosition[r]]);for(let e=6;e<=Math.trunc(t.length/2);e++){let n=!0;for(let r=0;r<e;r++){const o=t.length-1-r,[i,s]=t[o],[u,a]=t[o-e];if(i!==u||s!==a){n=!1;break}}if(n)return!0}return!1},u=(t,e)=>{const n=[],{precision:u,maxPivots:a,checkCycles:l}=e;for(let e=0;e<a;e++){let e=0,a=u;for(let n=1;n<t.width;n++){const o=(0,r.index)(t,0,n);o>a&&(a=o,e=n)}if(0===e)return["optimal",(0,o.roundToPrecision)((0,r.index)(t,0,0),u)];let p=0,c=1/0;for(let n=1;n<t.height;n++){const o=(0,r.index)(t,n,e);if(o<=u)continue;const i=(0,r.index)(t,n,0)/o;if(i<c&&(p=n,c=i,i<=u))break}if(0===p)return["unbounded",e];if(l&&s(n,t,p,e))return["cycled",NaN];i(t,p,e)}return["cycled",NaN]};e.simplex=(t,e)=>{const n=[],{precision:o,maxPivots:a,checkCycles:l}=e;for(let p=0;p<a;p++){let a=0,p=-o;for(let e=1;e<t.height;e++){const n=(0,r.index)(t,e,0);n<p&&(p=n,a=e)}if(0===a)return u(t,e);let c=0,f=-1/0;for(let e=1;e<t.width;e++){const n=(0,r.index)(t,a,e);if(n<-o){const o=-(0,r.index)(t,0,e)/n;o>f&&(f=o,c=e)}}if(0===c)return["infeasible",NaN];if(l&&s(n,t,a,c))return["cycled",NaN];i(t,a,c)}return["cycled",NaN]}},235:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inRange=e.equalTo=e.greaterEq=e.lessEq=void 0,e.lessEq=t=>({max:t}),e.greaterEq=t=>({min:t}),e.equalTo=t=>({equal:t}),e.inRange=(t,e)=>({min:t,max:e})},324:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tableauModel=e.update=e.index=void 0,e.index=(t,e,n)=>t.matrix[Math.imul(e,t.width)+n],e.update=(t,e,n,r)=>{t.matrix[Math.imul(e,t.width)+n]=r};const n=t=>"function"==typeof t[Symbol.iterator]?t:Object.entries(t),r=t=>!0===t||(!1===t?new Set:t instanceof Set?t:new Set(t));e.tableauModel=t=>{const{direction:o,objective:i,integers:s,binaries:u}=t,a="minimize"===o?-1:1,l=n(t.constraints),p=n(t.variables),c=Array.isArray(p)?p:Array.from(p),f=[],h=[];if(null!=s||null!=u){const t=r(u),e=!0===t||r(s);for(let n=1;n<=c.length;n++){const[r]=c[n-1];!0===t||t.has(r)?(f.push(n),h.push(n)):(!0===e||e.has(r))&&h.push(n)}}const d=new Map;for(const[t,e]of l){const n=d.get(t)??{row:NaN,lower:-1/0,upper:1/0};n.lower=Math.max(n.lower,e.equal??e.min??-1/0),n.upper=Math.min(n.upper,e.equal??e.max??1/0),d.has(t)||d.set(t,n)}let b=1;for(const t of d.values())t.row=b,b+=(Number.isFinite(t.lower)?1:0)+(Number.isFinite(t.upper)?1:0);const v=c.length+1,m=b+f.length,y=v+m,g=new Float64Array(v*m),w=new Int32Array(y),x=new Int32Array(y),O={matrix:g,width:v,height:m,positionOfVariable:w,variableAtPosition:x};for(let t=0;t<y;t++)w[t]=t,x[t]=t;for(let t=1;t<v;t++)for(const[r,o]of n(c[t-1][1])){r===i&&(0,e.update)(O,0,t,a*o);const n=d.get(r);null!=n&&(Number.isFinite(n.upper)?((0,e.update)(O,n.row,t,o),Number.isFinite(n.lower)&&(0,e.update)(O,n.row+1,t,-o)):Number.isFinite(n.lower)&&(0,e.update)(O,n.row,t,-o))}for(const t of d.values())Number.isFinite(t.upper)?((0,e.update)(O,t.row,0,t.upper),Number.isFinite(t.lower)&&(0,e.update)(O,t.row+1,0,-t.lower)):Number.isFinite(t.lower)&&(0,e.update)(O,t.row,0,-t.lower);for(let t=0;t<f.length;t++){const n=b+t;(0,e.update)(O,n,0,1),(0,e.update)(O,n,f[t],1)}return{tableau:O,sign:a,variables:c,integers:h}}},434:function(t,e){var n,r,o;(function(){var i,s,u,a,l,p,c,f,h,d,b,v,m,y,g;u=Math.floor,d=Math.min,s=function(t,e){return t<e?-1:t>e?1:0},h=function(t,e,n,r,o){var i;if(null==n&&(n=0),null==o&&(o=s),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);n<r;)o(e,t[i=u((n+r)/2)])<0?r=i:n=i+1;return[].splice.apply(t,[n,n-n].concat(e)),e},p=function(t,e,n){return null==n&&(n=s),t.push(e),y(t,0,t.length-1,n)},l=function(t,e){var n,r;return null==e&&(e=s),n=t.pop(),t.length?(r=t[0],t[0]=n,g(t,0,e)):r=n,r},f=function(t,e,n){var r;return null==n&&(n=s),r=t[0],t[0]=e,g(t,0,n),r},c=function(t,e,n){var r;return null==n&&(n=s),t.length&&n(t[0],e)<0&&(e=(r=[t[0],e])[0],t[0]=r[1],g(t,0,n)),e},a=function(t,e){var n,r,o,i,a,l;for(null==e&&(e=s),a=[],r=0,o=(i=function(){l=[];for(var e=0,n=u(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)l.push(e);return l}.apply(this).reverse()).length;r<o;r++)n=i[r],a.push(g(t,n,e));return a},m=function(t,e,n){var r;if(null==n&&(n=s),-1!==(r=t.indexOf(e)))return y(t,0,r,n),g(t,r,n)},b=function(t,e,n){var r,o,i,u,l;if(null==n&&(n=s),!(o=t.slice(0,e)).length)return o;for(a(o,n),i=0,u=(l=t.slice(e)).length;i<u;i++)r=l[i],c(o,r,n);return o.sort(n).reverse()},v=function(t,e,n){var r,o,i,u,p,c,f,b,v;if(null==n&&(n=s),10*e<=t.length){if(!(i=t.slice(0,e).sort(n)).length)return i;for(o=i[i.length-1],u=0,c=(f=t.slice(e)).length;u<c;u++)n(r=f[u],o)<0&&(h(i,r,0,null,n),i.pop(),o=i[i.length-1]);return i}for(a(t,n),v=[],p=0,b=d(e,t.length);0<=b?p<b:p>b;0<=b?++p:--p)v.push(l(t,n));return v},y=function(t,e,n,r){var o,i,u;for(null==r&&(r=s),o=t[n];n>e&&r(o,i=t[u=n-1>>1])<0;)t[n]=i,n=u;return t[n]=o},g=function(t,e,n){var r,o,i,u,a;for(null==n&&(n=s),o=t.length,a=e,i=t[e],r=2*e+1;r<o;)(u=r+1)<o&&!(n(t[r],t[u])<0)&&(r=u),t[e]=t[r],r=2*(e=r)+1;return t[e]=i,y(t,a,e,n)},i=function(){function t(t){this.cmp=null!=t?t:s,this.nodes=[]}return t.push=p,t.pop=l,t.replace=f,t.pushpop=c,t.heapify=a,t.updateItem=m,t.nlargest=b,t.nsmallest=v,t.prototype.push=function(t){return p(this.nodes,t,this.cmp)},t.prototype.pop=function(){return l(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return f(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return c(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return a(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return m(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),r=[],void 0===(o="function"==typeof(n=function(){return i})?n.apply(e,r):n)||(t.exports=o)}).call(this)},471:(t,e,n)=>{t.exports=n(434)},624:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.roundToPrecision=void 0,e.roundToPrecision=(t,e)=>{const n=Math.round(1/e);return Math.round((t+Number.EPSILON)*n)/n}}},e={};const n=function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(46);"undefined"!=typeof window&&(window.YALPS=n)})();